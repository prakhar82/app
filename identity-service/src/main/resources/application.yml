server:
  port: 8081

spring:
  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/identity_db}
    username: ${SPRING_DATASOURCE_USERNAME:postgres}
    password: ${SPRING_DATASOURCE_PASSWORD:postgres}

  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        format_sql: true

  flyway:
    enabled: true

  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${GOOGLE_CLIENT_ID:dummy}
            client-secret: ${GOOGLE_CLIENT_SECRET:dummy}
            scope: openid,profile,email

  mail:
    host: ${SMTP_HOST:smtp.gmail.com}
    port: ${SMTP_PORT:587}
    username: ${SMTP_USER:prakhar.unique@gmail.com}
    password: ${SMTP_PASS:}
    properties:
      mail:
        smtp:
          auth: ${SMTP_AUTH:true}
          starttls:
            enable: ${SMTP_STARTTLS_ENABLE:true}
          connectiontimeout: 5000
          timeout: 5000
          writetimeout: 5000

app:
  auth-mode: ${AUTH_MODE:DEV}
  frontend-url: ${FRONTEND_URL:http://localhost}

  mail:
    from: ${MAIL_FROM:Grocery Shop <prakhar.unique@gmail.com>}

  verification:
    expiry-minutes: ${VERIFICATION_EXPIRY_MINUTES:15}
    max-attempts: ${VERIFICATION_MAX_ATTEMPTS:5}

  postcode:
    allowed-numeric-from: ${POSTCODE_ALLOWED_FROM:5600}
    allowed-numeric-to: ${POSTCODE_ALLOWED_TO:5699}

security:
  jwt:
    secret: ${JWT_SECRET}
    access-token-seconds: 1800

management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus

logging:
  pattern:
    level: "%5p [corr:%X{X-Correlation-Id}]"
